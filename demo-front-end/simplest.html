<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="./assets/demo.css">
    <script src="assets/index.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pay2my.app@latest/dist/pay2my.app.js"></script>

    <script>

      // This is where we listen to authorized users clicking on events when they click a feature button.
      window.addEventListener('pay2myapp-appsell-sku-clicked',(e) => { 
        console.log(`sku-clicked :: ${JSON.stringify(e.detail, null, 2)}`);
        
        // No back-end version, handle in front-end only
        addMessage(e.detail.sku);  
        return;
      }, false);      

    </script>
  </head>

  <body>

    <!-- info note-->
    <div class="w3-container note-container"><div class="w3-card w3-sand w3-margin note">
      <img class="w3-left info" src="./assets/info.png">
      <p>The simplest demo showing a single widget and not using a back-end.  Using the single feature does not cause back-end endpoint invocations.  All business flows are solely in-browser, with all that entails.</p>
      <p>Just below we see a single feature button (<em>pay2myapp-appsell</em> widget).  Clicking it always causes a login and &mdash; if authorized &mdash; subsequent feature flow.  All solely in the front-end &mdash; at the single payment tier.</p>
      <p><a href="https://github.com/overhide/pay2my.app#demos" class="source" target="_blank"><img src="assets/icons8-github-96.png"></img><span>back to demos</span></a><a href="https://github.com/overhide/pay2my.app/blob/master/demo-front-end/simplest.html" class="source" target="_blank"><img src="assets/icons8-github-96.png"></img><span>view the source</span></a></p>
    </div></div><br/><br/>
        
    <pay2myapp-hub id="hub" apiKey="0x___API_KEY_ONLY_FOR_DEMOS_AND_TESTS___" isTest></pay2myapp-hub>      

    <pay2myapp-login hubId="hub"
                    overhideSocialMicrosoftEnabled
                    overhideSocialGoogleEnabled
                    overhideWeb3Enabled
                    ethereumWeb3Enabled
                    bitcoinEnabled
                    overhideSecretTokenEnabled>
    </pay2myapp-login>

    <pay2myapp-appsell
      style="width: 20em; margin: auto; padding: 0px;"
      hubId="hub" 
      sku="2-dollar-feature"
      priceDollars="2"
      authorizedMessage="Use Feature"
      unauthorizedTemplate="Add Feature ($${topup})"
      bitcoinAddress="tb1qr9d7z0es86sps5f2kefx5grpj4a5yvp4evj80z"
      ethereumAddress="0x046c88317b23dc57F6945Bf4140140f73c8FC80F"
      overhideAddress="0x046c88317b23dc57F6945Bf4140140f73c8FC80F"
      alwaysLogin>
    </pay2myapp-appsell>

    <!--------------------------------------------------------------------------------------------------------------------------------->
    <!-- This bit below is just for UX -->
    <img class="visa" id="visa" src="./assets/visa.png">
    <div class="w3-row" style="display: flex; justify-content: center; margin-top: 12em;">
      <div id="messages" class="w3-col s8 w3-center">
      </div>
    </div>
    <!--------------------------------------------------------------------------------------------------------------------------------->

  </body>
</html>
