<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <script src="https://cdn.jsdelivr.net/npm/pay2my.app@1.4.9/dist/pay2my.app.js"></script>
  </head>

  <body style="max-width: 250px; margin: auto; display: flex; flex-direction: column; row-gap: 30px">

    <pay2myapp-hub id="demo-hub" apiKey="0x___API_KEY_ONLY_FOR_DEMOS_AND_TESTS___" isTest></pay2myapp-hub>      

    <pay2myapp-login hubId="demo-hub"
                    overhideSocialMicrosoftEnabled
                    overhideSocialGoogleEnabled
                    overhideSecretTokenEnabled>
    </pay2myapp-login>

    <pay2myapp-status hubId="demo-hub"></pay2myapp-status>

    <div id="message">❌ Not Authenticated</div>

  </body>

  <script>

    window.addEventListener('pay2myapp-hub-sku-authentication-changed',(e) => { 
      if (e.detail.isAuthenticated) {
        document.querySelector("#message").innerHTML = `✔ Authenticated with ${e.detail.imparter}`;
      } else {
        document.querySelector("#message").innerHTML = '❌ Not Authenticated';
      }
    });

  </script>    
</html>
